<html>
	
	<head>

		<link rel="stylesheet" type="text/css" href="automate_style.css">
	

        <script src="bundle.js"></script>
        <script>
			$(()=>{
				var side_panel = React.createElement(components.side_panel);
				var event_panel = React.createElement(components.event_panel);
				//var the_grid = React.createElement(components.grid,{ onLayoutChange: (x)=>console.log('changed')})
				
				var scrollview = React.createElement(components.widget_scrollview, {widgets: 
					{	a:widgets.temperature_display,
						b:widgets.test_widget,
						c:widgets.test_widget,
						d:widgets.test_widget,
						e:widgets.test_widget,
						f:widgets.test_widget,
						g:widgets.test_widget,
						h:widgets.test_widget
                    }
				
				});
                var grid_with_s = React.createElement( components.grid_with_scrollview);
				
				var content_selection_bar = React.createElement(components.content_selection_bar,{content: scrollview});

                ReactDOM.render(grid_with_s, document.getElementById("the_scrollview"));
				ReactDOM.render(content_selection_bar, document.getElementById("top_bar_holder"));
				
				//test_widget_component = (new widgets.test_widget).get_react_component();
				
				//r= new (widgets.test_widget);
				
			})
		</script>
    </head>
	
	<body>
        
        
		<script>
		
			// everything in this script and basically this file in general represents technical debt.  
			// everything is better composed a react components.  we hack for now.  do come back to fix tho
			
			var widgets_added = [ ];
			emitter.on("widgets:add_widget",(widget)=>{
					var the_widget = new widget;
					add_widget(the_widget);
					widgets_added.push(the_widget);

			});
			
			function set_up_close(){
				$("#fullscreen_close").click(()=>{console.log('closing');close_fullscreen()});

			}
			function set_fullscreen(react_element){
				ReactDOM.render(react_element, document.getElementById("fullscreen_content"));
				$("#fullscreen").fadeIn(100);
			}
			function close_fullscreen(){
				$("#fullscreen").hide();
			}
			
			$(document).ready(set_up_close)
		</script> 
		<div id="fullscreen">
			<div id="fullscreen_close">x</div>
			<div id="fullscreen_content"></div>
		</div>
	
		<div id="top_bar_holder"></div>

        <div id="left_bar" class="bar"></div>
        <div id="right_bar" class="bar"></div>
        
        <div id="the_scrollview"></div>
        <div id="low_bar"><div id="logo">automate</div></div>
		
		
        <script>
           
        </script>
	</body>

</html>